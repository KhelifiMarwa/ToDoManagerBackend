<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ToDoManagerMobile.Views.HomePage"
             BackgroundColor="#F5F5F5">
 

        <ScrollView>
            <VerticalStackLayout Padding="20" Spacing="20">

                <!-- Welcome -->
                <Label Text="ðŸ  Welcome, Marwa!"
                   FontSize="26"
                   FontAttributes="Bold"
                   TextColor="#212121"
                   HorizontalOptions="Center" />

                <!-- Tasks summary -->
                <Frame CornerRadius="15" Padding="15" HasShadow="True" BackgroundColor="White">
                    <Grid ColumnDefinitions="*,*,*">
                        <StackLayout HorizontalOptions="Center">
                            <Label Text="Total Tasks" FontSize="14" TextColor="#757575"/>
                            <Label x:Name="TotalLabel" Text="0" FontSize="20"
                               FontAttributes="Bold" TextColor="#2196F3"
                               HorizontalOptions="Center"/>
                        </StackLayout>

                        <StackLayout HorizontalOptions="Center" Grid.Column="1">
                            <Label Text="Completed" FontSize="14" TextColor="#757575"/>
                            <Label x:Name="CompletedLabel" Text="0" FontSize="20"
                               FontAttributes="Bold" TextColor="#4CAF50"
                               HorizontalOptions="Center"/>
                        </StackLayout>

                        <StackLayout HorizontalOptions="Center" Grid.Column="2">
                            <Label Text="Pending" FontSize="14" TextColor="#757575"/>
                            <Label x:Name="PendingLabel" Text="0" FontSize="20"
                               FontAttributes="Bold" TextColor="#F44336"
                               HorizontalOptions="Center"/>
                        </StackLayout>
                    </Grid>
                </Frame>

                <!-- Quick actions -->
                <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">
                    <Button Text="âž• Add Task"
                        BackgroundColor="#2196F3"
                        TextColor="White"
                        CornerRadius="20"
                        WidthRequest="140"
                        Clicked="OnAddTaskClicked"/>

                    <Button Text="ðŸ“‹ View Tasks"
                        BackgroundColor="#4CAF50"
                        TextColor="White"
                        CornerRadius="20"
                        WidthRequest="140"
                        Clicked="OnViewTasksClicked"/>
                </HorizontalStackLayout>

                <!-- Recent Tasks -->
                <Label Text="ðŸ•’ Recent Tasks"
                   FontSize="20"
                   FontAttributes="Bold"
                   TextColor="#212121"/>

                <CollectionView x:Name="RecentTasksCollection"
                            ItemsLayout="VerticalList"
                            EmptyView="No recent tasks available ðŸ˜´">

                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Frame CornerRadius="12"
                               Padding="12"
                               Margin="5"
                               BackgroundColor="White"
                               HasShadow="True">
                                <Grid ColumnDefinitions="*,Auto">
                                    <VerticalStackLayout>
                                        <Label Text="{Binding Title}"
                                           FontSize="16"
                                           FontAttributes="Bold"
                                           TextColor="#212121" />
                                        <Label Text="{Binding Description}"
                                           FontSize="14"
                                           TextColor="#757575"
                                           LineBreakMode="TailTruncation" />
                                        <Label Text="{Binding DueDate, StringFormat='ðŸ“… {0:dd/MM/yyyy}'}"
                                           FontSize="12"
                                           TextColor="#2196F3"/>
                                    </VerticalStackLayout>

                                    <Image Source="{Binding IsCompleted, Converter={StaticResource BoolToImageConverter}}"
                                       WidthRequest="24"
                                       HeightRequest="24"
                                       Grid.Column="1"
                                       VerticalOptions="Center" />
                                </Grid>
                            </Frame>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

            </VerticalStackLayout>
        </ScrollView>
  
</ContentPage>